function SubPostsBindParentAjaxForms(){jQuery.each(jQuery(".sp_showchilds_ajax"),function(a,b){new SubPostsAjaxForm(b)})}function SubPostsAjaxForm(a){this.widget=a,this.init=function(){this.bind()},this.bind=function(){var a=this;jQuery(this.widget).find(".postlink").bind("change",function(){a.update_parents(this)})},this.update_parents=function(a){var b=this,c={url:ajaxurl,type:"POST",async:!0,cache:!1,dataType:"json",data:{action:"get_parent_posts",identifier:jQuery(a).val(),nonce:jQuery(b.widget).find("#sp_widget_child_nonce").val(),by_slug:jQuery(b.widget).find("#by_slug").val()?jQuery(b.widget).find("#by_slug").val():!1},success:function(a){var c=jQuery(b.widget).find(".parent");jQuery(c).empty(),jQuery(c).append(jQuery("<option>").val("current").html(sp_js.current_page)),jQuery.each(a,function(a,b){jQuery(c).append(jQuery("<option>").val(a).html(b))})},error:function(){}};jQuery.ajax(c)},this.init()}jQuery(function(){SubPostsBindParentAjaxForms()}),jQuery(document).ajaxSuccess(function(a,b,c){var d="sp_widget_showchilds";void 0!=c.data&&-1!=c.data.search("action=save-widget")&&-1!=c.data.search("id_base="+d)&&SubPostsBindParentAjaxForms()});